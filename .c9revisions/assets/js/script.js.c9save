{"ts":1350186149176,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"$(function(){\r\n    \r\n\tvar dropbox = $('#dropbox'),\r\n\t\tmessage = $('.message', dropbox);\r\n\t\r\n\tdropbox.filedrop({\r\n\t\t// The name of the $_FILES entry:\r\n\t\tparamname:'pic',\r\n\t\t\r\n\t\tmaxfiles: 5,\r\n    \tmaxfilesize: 2,\r\n\t\turl: 'post_file.php',\r\n\t\t\r\n\t\tuploadFinished:function(i,file,response){\r\n\t\t\t$.data(file).addClass('done');\r\n\t\t\t// response is the JSON object that post_file.php returns\r\n\t\t},\r\n\t\t\r\n    \terror: function(err, file) {\r\n\t\t\tswitch(err) {\r\n\t\t\t\tcase 'BrowserNotSupported':\r\n\t\t\t\t\tshowMessage('Your browser does not support HTML5 file uploads!');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'TooManyFiles':\r\n\t\t\t\t\talert('Too many files! Please select 5 at most! (configurable)');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'FileTooLarge':\r\n\t\t\t\t\talert(file.name+' is too large! Please upload files up to 2mb (configurable).');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// Called before each upload is started\r\n\t\tbeforeEach: function(file){\r\n\t\t\tif(!file.type.match(/^image\\//)){\r\n\t\t\t\talert('Only images are allowed!');\r\n\t\t\t\t\r\n\t\t\t\t// Returning false will cause the\r\n\t\t\t\t// file to be rejected\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tuploadStarted:function(i, file, len){\r\n\t\t\tcreateImage(file);\r\n\t\t},\r\n\t\t\r\n\t\tprogressUpdated: function(i, file, progress) {\r\n\t\t\t$.data(file).find('.progress').width(progress);\r\n\t\t}\r\n    \t \r\n\t});\r\n\t\r\n\tvar template = '<div class=\"preview\">'+\r\n\t\t\t\t\t\t'<span class=\"imageHolder\">'+\r\n\t\t\t\t\t\t\t'<img />'+\r\n\t\t\t\t\t\t\t'<span class=\"uploaded\"></span>'+\r\n\t\t\t\t\t\t'</span>'+\r\n\t\t\t\t\t\t'<div class=\"progressHolder\">'+\r\n\t\t\t\t\t\t\t'<div class=\"progress\"></div>'+\r\n\t\t\t\t\t\t'</div>'+\r\n\t\t\t\t\t'</div>'; \r\n\t\r\n\t\r\n\tfunction createImage(file){\r\n\r\n\t\tvar preview = $(template), \r\n\t\t\timage = $('img', preview);\r\n\t\t\t\r\n\t\tvar reader = new FileReader();\r\n\t\t\r\n\t\timage.width = 100;\r\n\t\timage.height = 100;\r\n\t\t\r\n\t\treader.onload = function(e){\r\n\t\t\t\r\n\t\t\t// e.target.result holds the DataURL which\r\n\t\t\t// can be used as a source of the image:\r\n\t\t\t\r\n\t\t\timage.attr('src',e.target.result);\r\n\t\t};\r\n\t\t\r\n\t\t// Reading the file as a DataURL. When finished,\r\n\t\t// this will trigger the onload function above:\r\n\t\treader.readAsDataURL(file);\r\n\t\t\r\n\t\tmessage.hide();\r\n\t\tpreview.appendTo(dropbox);\r\n\t\t\r\n\t\t// Associating a preview container\r\n\t\t// with the file, using jQuery's $.data():\r\n\t\t\r\n\t\t$.data(file,preview);\r\n\t}\r\n\r\n\tfunction showMessage(msg){\r\n\t\tmessage.html(msg);\r\n\t}\r\n\r\n});"]],"start1":0,"start2":0,"length1":0,"length2":2318}]],"length":2318}
{"contributors":[],"silentsave":false,"ts":1350186130061,"patch":[[{"diffs":[[1,"$(function(){\r\n    \r\n\tvar dropbox = $('#dropbox'),\r\n\t\tmessage = $('.message', dropbox);\r\n\t\r\n\tdropbox.filedrop({\r\n\t\t// The name of the $_FILES entry:\r\n\t\tparamname:'pic',\r\n\t\t\r\n\t\tmaxfiles: 5,\r\n    \tmaxfilesize: 2,\r\n\t\turl: 'post_file.php',\r\n\t\t\r\n\t\tuploadFinished:function(i,file,response){\r\n\t\t\t$.data(file).addClass('done');\r\n\t\t\t// response is the JSON object that post_file.php returns\r\n\t\t},\r\n\t\t\r\n    \terror: function(err, file) {\r\n\t\t\tswitch(err) {\r\n\t\t\t\tcase 'BrowserNotSupported':\r\n\t\t\t\t\tshowMessage('Your browser does not support HTML5 file uploads!');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'TooManyFiles':\r\n\t\t\t\t\talert('Too many files! Please select 5 at most! (configurable)');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'FileTooLarge':\r\n\t\t\t\t\talert(file.name+' is too large! Please upload files up to 2mb (configurable).');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// Called before each upload is started\r\n\t\tbeforeEach: function(file){\r\n\t\t\tif(!file.type.match(/^image\\//)){\r\n\t\t\t\talert('Only images are allowed!');\r\n\t\t\t\t\r\n\t\t\t\t// Returning false will cause the\r\n\t\t\t\t// file to be rejected\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tuploadStarted:function(i, file, len){\r\n\t\t\tcreateImage(file);\r\n\t\t},\r\n\t\t\r\n\t\tprogressUpdated: function(i, file, progress) {\r\n\t\t\t$.data(file).find('.progress').width(progress);\r\n\t\t}\r\n    \t \r\n\t});\r\n\t\r\n\tvar template = '<div class=\"preview\">'+\r\n\t\t\t\t\t\t'<span class=\"imageHolder\">'+\r\n\t\t\t\t\t\t\t'<img />'+\r\n\t\t\t\t\t\t\t'<span class=\"uploaded\"></span>'+\r\n\t\t\t\t\t\t'</span>'+\r\n\t\t\t\t\t\t'<div class=\"progressHolder\">'+\r\n\t\t\t\t\t\t\t'<div class=\"progress\"></div>'+\r\n\t\t\t\t\t\t'</div>'+\r\n\t\t\t\t\t'</div>'; \r\n\t\r\n\t\r\n\tfunction createImage(file){\r\n\r\n\t\tvar preview = $(template), \r\n\t\t\timage = $('img', preview);\r\n\t\t\t\r\n\t\tvar reader = new FileReader();\r\n\t\t\r\n\t\timage.width = 100;\r\n\t\timage.height = 100;\r\n\t\t\r\n\t\treader.onload = function(e){\r\n\t\t\t\r\n\t\t\t// e.target.result holds the DataURL which\r\n\t\t\t// can be used as a source of the image:\r\n\t\t\t\r\n\t\t\timage.attr('src',e.target.result);\r\n\t\t};\r\n\t\t\r\n\t\t// Reading the file as a DataURL. When finished,\r\n\t\t// this will trigger the onload function above:\r\n\t\treader.readAsDataURL(file);\r\n\t\t\r\n\t\tmessage.hide();\r\n\t\tpreview.appendTo(dropbox);\r\n\t\t\r\n\t\t// Associating a preview container\r\n\t\t// with the file, using jQuery's $.data():\r\n\t\t\r\n\t\t$.data(file,preview);\r\n\t}\r\n\r\n\tfunction showMessage(msg){\r\n\t\tmessage.html(msg);\r\n\t}\r\n\r\n});"]],"start1":0,"start2":0,"length1":0,"length2":2318}]],"length":2318,"saved":false}
{"contributors":[],"silentsave":false,"ts":1350222566918,"patch":[[{"diffs":[[0,"l: '"],[-1,"post_file.php',\r\n\t\t\r\n\t\tuploadFinished:function(i,file,response){\r\n\t\t\t$.data(file).addClass('done');\r\n\t\t\t// response is the JSON object that post_file.php returns\r\n\t\t},\r\n\t\t\r\n    \terror: function(err, file) {\r\n\t\t\tswitch(err) {\r\n\t\t\t\tcase 'BrowserNotSupported':\r\n\t\t\t\t\tshowMessage('Your browser does not support HTML5 file uploads!');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'TooManyFiles':\r\n\t\t\t\t\talert('Too many files! Please select 5 at most! (configurable)');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'FileTooLarge':\r\n\t\t\t\t\talert(file.name+' is too large! Please upload files up to 2mb (configurable).');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// Called before each upload is started\r\n\t\tbeforeEach: function(file){\r\n\t\t\tif(!file.type.match(/^image\\//)){\r\n\t\t\t\talert('Only images are allowed!');\r\n\t\t\t\t\r\n\t\t\t\t// Returning false will cause the\r\n\t\t\t\t// file to be rejected\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tuploadStarted:function(i, file, len){\r\n\t\t\tcreateImage(file);\r\n\t\t},\r\n\t\t\r\n\t\tprogressUpdated: function(i, file, progress) {\r\n\t\t\t$.data(file).find('.progress').width(progress);\r\n\t\t}\r\n    \t \r\n\t});\r\n\t\r\n\tvar template = '<div class=\"preview\">'+\r\n\t\t\t\t\t\t'<span class=\"imageHolder\">'+\r\n\t\t\t\t\t\t\t'<img />'+\r\n\t\t\t\t\t\t\t'<span class=\"uploaded\"></span>'+\r\n\t\t\t\t\t\t'</span>'+\r\n\t\t\t\t\t\t'<div class=\"progressHolder\">'+\r\n\t\t\t\t\t\t\t'<div class=\"progress\"></div>'+\r\n\t\t\t\t\t\t'</div>'+\r\n\t\t\t\t\t'</div>'; \r\n\t\r\n\t\r\n\tfunction createImage(file){\r\n\r\n\t\tvar preview = $(template), \r\n\t\t\timage = $('img', preview);\r\n\t\t\t\r\n\t\tvar reader = new FileReader();\r\n\t\t\r\n\t\timage.width = 100;\r\n\t\timage.height = 100;\r\n\t\t\r\n\t\treader.onload = function(e){\r\n\t\t\t\r\n\t\t\t// e.target.result holds the DataURL which\r\n\t\t\t// can be used as a source of the image:\r\n\t\t\t\r\n\t\t\timage.attr('src',e.target.result);\r\n\t\t};\r\n\t\t\r\n\t\t// Reading the file as a DataURL. When finished,\r\n\t\t// this will trigger the onload function above:\r\n\t\treader.readAsDataURL(file);\r\n\t\t\r\n\t\tmessage.hide();\r\n\t\tpreview.appendTo(dropbox);\r\n\t\t\r\n\t\t// Associating a preview container\r\n\t\t// with the file, using jQuery's $.data():\r\n\t\t\r\n\t\t$.data(file,preview);\r\n\t}\r\n\r\n\tfunction showMessage(msg){\r\n\t\tmessage.html(msg);\r\n\t}\r\n\r\n});$(function(){\r\n    \r\n\tvar dropbox = $('#dropbox'),\r\n\t\tmessage = $('.message', dropbox);\r\n\t\r\n\tdropbox.filedrop({\r\n\t\t// The name of the $_FILES entry:\r\n\t\tparamname:'pic',\r\n\t\t\r\n\t\tmaxfiles: 5,\r\n    \tmaxfilesize: 2,\r\n\t\turl: '"],[1,"/"],[0,"post"]],"start1":216,"start2":216,"length1":2326,"length2":9}]],"length":2319,"saved":false}
{"ts":1350222641356,"patch":[[{"diffs":[[0,"\t\turl: '"],[1,"http://pinxp.metrony.c9.io"],[0,"/post_fi"]],"start1":212,"start2":212,"length1":16,"length2":42}]],"length":2345,"saved":false}
{"contributors":[],"silentsave":false,"ts":1350225301376,"patch":[[{"diffs":[[0,": 2,\r\n\t\t"],[1,"//"],[0,"url: 'ht"]],"start1":206,"start2":206,"length1":16,"length2":18},{"diffs":[[0,"file.php',\r\n"],[1,"    \turl: '/upload_files',\r\n"],[0,"\t\t\r\n\t\tupload"]],"start1":254,"start2":254,"length1":24,"length2":52}]],"length":2375,"saved":false}
{"ts":1350226005535,"patch":[[{"diffs":[[0,"\turl: '/"],[1,"api/"],[0,"upload_f"]],"start1":270,"start2":270,"length1":16,"length2":20},{"diffs":[[0,"oad_file"],[-1,"s"],[0,"',\r\n\t\t\r\n"]],"start1":285,"start2":285,"length1":17,"length2":16}]],"length":2378,"saved":false}
{"ts":1350226950240,"patch":[[{"diffs":[[0,"me:'"],[-1,"pic"],[1,"iamge"],[0,"',\r\n"]],"start1":159,"start2":159,"length1":11,"length2":13}]],"length":2380,"saved":false}
{"ts":1350226954398,"patch":[[{"diffs":[[0,"mname:'i"],[-1,"a"],[0,"m"],[1,"a"],[0,"ge',\r\n\t\t"]],"start1":156,"start2":156,"length1":18,"length2":18}]],"length":2380,"saved":false}
